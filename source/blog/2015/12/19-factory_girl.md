---
title: FactoryGirlの一日
date: 2015-12-19 00:00 JST
tags: アドベントカレンダー
---

# はじめに

この記事は[ポエム Advent Calendar 2015](http://www.adventar.org/calendars/732)の19日目の記事です。

factory_girlという[宝石](https://github.com/thoughtbot/factory_girl)を知っていますか。

今日もたくさんのFactoryGirlが生み出され、
テストに使われては破棄されています。

FactoryGirlは、一度ロットが製造されると、とても低コストで一人を製造することができます。
マイナーチェンジのGirlを作ることもとても簡単です！

そうやってたくさんのGirlが創りだされるのですが、
ほとんどのものはテストに使われてそのまま破棄されていきます。

今日はそんなFactoryGirlの一人の一日に注目して見ましょう。

# 誕生

FactoryでbuildされることによってGirlは誕生します。

彼女は作られる時、何人かの姉妹とともに作られました。

# テスト

彼女の姉妹は異常系です。

変なものを突っ込まれてどんどん<ruby>invalid<rp>(</rp><rt>こわれ</rt><rp>)</rp></ruby>
て行くのを見て、
怯える彼女ですが、彼女自身はなにもされません。

こわれたことが無事確認された姉妹たちはテストが終了し次第、
次々と終了されていきます。

彼女もいろいろ触られてテストを受けていますが、
彼女は正常系のgirlなので(最も、彼女はそんなことは露ほども知らないわけですが)、
まだこわれていません。

# テスト passed

様々なテストを受け終わった時、彼女の姉妹はほとんどこわれてしまいましたが、
彼女はこわれていませんでした。

生き残ることが出来たと安心する彼女を待っていたのは、
他のこわれた子たちとおなじ破棄でした。

救いはないですね、無です。

# テスト failed

予定では彼女は無事に生き残ることができるはずだったのですが(勿論これも彼女は全く知らなかったことなのですが)、
どういう理由かは定かでは無いのですが、彼女はこわれてしまっていました。
このFactoryではこわれたGirlの末路は一つです。

残念でした。救いはないです。
